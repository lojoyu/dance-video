(this["webpackJsonpdance-video"]=this["webpackJsonpdance-video"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(2),s=n.n(o),d=(n(13),n(3)),r=n(4),c=n(6),u=n(5),v=n(7),h=(n(14),function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).initRefs=function(){e.setState({video:e.refs.video,ctx2:e.refs.canvas2.getContext("2d"),width:0,height:0,prevFrames:[]}),console.log(e.refs.video)},e.updateWindowDimensions=function(){e.setState({width:window.innerWidth,height:window.innerHeight})},e.updateCanvas=function(){var t=e.state,n=t.video,a=t.lastTime;(void 0===n?a:n.currentTime)!==a&&e.computeFrame(),requestAnimationFrame(e.updateCanvas)},e.computeFrame=function(){var t=e.state,n=(t.ctx1,t.ctx2),a=t.video,i=t.width,o=t.height,s=t.prevFrames;n.drawImage(a,0,0,i,o);var d,r=n.getImageData(0,0,i,o),c=r.data.length/4;if(s.length>30&&(d=s.shift()),s.push(r),void 0!==d)for(var u=0;u<c;u++){var v=1*r.data[4*u+0]+.5*d.data[4*u+0],h=1*r.data[4*u+1]+.5*d.data[4*u+1],l=1*r.data[4*u+2]+.5*d.data[4*u+2];r.data[4*u+0]=v,r.data[4*u+1]=h,r.data[4*u+2]=l}n.putImageData(r,0,0)},e.state={lastTime:-1,url:"https://storage.googleapis.com/ntch-dance-video/5%20wendy-%7F%7F%7F%7F%7F%7F%7F%7F%7F.MOV"},e}return Object(v.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.initRefs(),this.updateCanvas(),this.updateWindowDimensions(),window.addEventListener("resize",this.updateWindowDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=window.innerWidth,t=window.innerHeight;return i.a.createElement("div",null,i.a.createElement("video",{style:{display:"none"},ref:"video",src:this.state.url,autoPlay:!0,loop:!0,preload:"auto",crossOrigin:""}),i.a.createElement("canvas",{ref:"canvas2",width:e,height:t}))}}]),t}(a.Component));s.a.render(i.a.createElement(h,null),document.getElementById("root"))},8:function(e,t,n){e.exports=n(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.ce798c01.chunk.js.map